<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>ViewController.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">ES-2023-2Sem-Sexta-Feira-LIGE-GrupoA</a> &gt; <a href="index.source.html" class="el_package">controllers</a> &gt; <span class="el_source">ViewController.java</span></div><h1>ViewController.java</h1><pre class="source lang-java linenums">package controllers;

import gui.App;
import models.Horario;


import javax.swing.*;
import java.awt.*;


/**
 * Classe ViewController que é o controlador das views todas que
 * trata da lógica dos botões etc
 */
public class ViewController {

    protected final App app;
    protected final CardLayout cardLayout;

    protected final JFrame frame;
    protected final JPanel contentPane;
    //fazer string content
    private static String content;
<span class="nc" id="L24">    private static Horario horario = null;</span>

    /**
     * Construtor do controlador
     * @param app A instância da classe App
     */
<span class="nc" id="L30">    public ViewController(App app) {</span>
<span class="nc" id="L31">        this.cardLayout = (CardLayout) app.getMainPanel().getLayout();</span>
<span class="nc" id="L32">        this.contentPane = app.getMainPanel();</span>
<span class="nc" id="L33">        this.frame = app.getFrame();</span>
<span class="nc" id="L34">        this.app = app;</span>
<span class="nc" id="L35">    }</span>


    /**
     * Obtém o conteúdo atual
     * @return O conteúdo atual
     */
    public static String getContent() {
<span class="nc" id="L43">        return content;</span>
    }

    /**
     * Verifica se o conteúdo está definido
     * @return true se o conteúdo está definido, false caso contrário
     */
    public boolean isContentSet(){
<span class="nc bnc" id="L51" title="All 2 branches missed.">        return content!=null;</span>
    }

    /**
     * Define o conteúdo
     * @param content O conteúdo a ser definido
     */
    public static void setContent(final String content) {
<span class="nc" id="L59">        ViewController.content = content;</span>
<span class="nc" id="L60">    }</span>

    /**
     * Verifica se um arquivo foi carregado
     * @return true se um arquivo foi carregado, false caso contrário
     */
    public boolean isFileUploaded(){
<span class="nc bnc" id="L67" title="All 2 branches missed.">        return getHorario().getFile() != null;</span>
    }

    /**
     * Verifica se um horário foi definido
     * @return true se um horário foi definido, false caso contrário
     */
    public boolean isHorarioSet(){
<span class="nc bnc" id="L75" title="All 2 branches missed.">        return getHorario() != null;</span>
    }

    /**
     * Obtém a instância da classe App
     * @return A instância da classe App
     */
    public App getApp() {
<span class="nc" id="L83">        return app;</span>
    }

    /**
     * Obtém o horário atual
     * @return O horário atual
     */
    public Horario getHorario() {
<span class="nc" id="L91">        return horario;</span>
    }

    /**
     * Define o horário
     * @param horario O horário a ser definido
     */
    public static void setHorario(Horario horario) {
<span class="nc" id="L99">        ViewController.horario = horario;</span>
<span class="nc" id="L100">    }</span>

    /**
     * Métodos que mostram as views
     */

    public void showConvertView(){
<span class="nc" id="L107">        app.getConvertFilesView().initFrame();</span>
<span class="nc" id="L108">        cardLayout.show(contentPane, App.CONVERT_MENU);</span>
<span class="nc" id="L109">    }</span>

    /**
     * Mostra a view de criação de horário
     */
    public void showCreateScheduleView(){
<span class="nc" id="L115">        app.getCreateScheduleView().initFrame();</span>
<span class="nc" id="L116">        cardLayout.show(contentPane, App.CREATE_SCHEDULE_MENU);</span>
<span class="nc" id="L117">    }</span>

    /**
     * Mostra a view do menu principal
     */
    public void showMainMenuView(){
<span class="nc bnc" id="L123" title="All 2 branches missed.">        if(isHorarioSet()){</span>
<span class="nc" id="L124">            app.getMainMenuView().initFrame();</span>
<span class="nc" id="L125">            cardLayout.show(contentPane, App.MAIN_MENU);</span>
        }else {
<span class="nc" id="L127">            app.getImportFilesView().initFrame();</span>
<span class="nc" id="L128">            cardLayout.show(contentPane, App.UPLOAD_MENU);</span>
        }
<span class="nc" id="L130">    }</span>

    /**
     * Mostra a view de exibição do horário
     */
    public void showShowScheduleView(){
<span class="nc bnc" id="L136" title="All 2 branches missed.">        if(isHorarioSet()){</span>
<span class="nc" id="L137">            app.getShowScheduleView().initFrame();</span>
<span class="nc" id="L138">            cardLayout.show(contentPane, App.SHOW_SCHEDULE_MENU);</span>
        }else {
<span class="nc" id="L140">            app.getImportFilesView().initFrame();</span>
<span class="nc" id="L141">            cardLayout.show(contentPane, App.UPLOAD_MENU);</span>
        }
<span class="nc" id="L143">    }</span>

    /**
     * Exibe a tela de upload de ficheiros.
     */
    public void showImportFilesView(){
<span class="nc" id="L149">        app.getImportFilesView().initFrame();</span>
<span class="nc" id="L150">        cardLayout.show(contentPane, App.UPLOAD_MENU);</span>
<span class="nc" id="L151">    }</span>

    /**
     * Exibe a tela de exportação de ficheiros.
     */
    public void showExportFilesView(){
<span class="nc" id="L157">        app.getExportFilesView().initFrame();</span>
<span class="nc" id="L158">        cardLayout.show(contentPane, App.EXPORT_MENU);</span>
<span class="nc" id="L159">    }</span>


    public CardLayout getCardLayout() {
<span class="nc" id="L163">        return cardLayout;</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.7.202105040129</span></div></body></html>